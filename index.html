
<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=1">
<style>
body {
	background-color:#000;
	margin:0px;
	color:lightgrey;
	font-size:18px;
}
input {
	border:0;
	background-color:#303030;
	color:lightgrey;
	padding-left:5px;
	font-size:16px;
}
img {
	cursor:pointer;
}
.small_side_button {
	position:absolute;
	z-index:2;
	width:50px;
	height:50px;
}
.big_side_button {
	position:absolute;
	z-index:2;
	width:80px;
	height:80px;
}
.dice_rack {
	height:45px;
	width:45px;
	margin:0px;
}
.die_queue_img {
	height:35px;
	width:35px;
	margin:0px;
}
.die_queue_div {
	float:left;
	position:relative;
	margin:10px;
}
.die_result {
	height:55px;
	width:55px;
	margin:5px;
}
.count_div {
	position:absolute;
	top:21px;
	left:35px;
	color:orange;
}
#appdiv1 {
	position:absolute;
	z-index:2;
	left:50px;
	top:50px;
	right:50px;
	bottom:50px;
	background-color:rgba(0,0,0,0.5);
	padding-left:10px;
	padding-right:10px;
}
#big_top {
	top:0px;
	left:0px;
	background-color: rgba(100,100,100,0.9);
	text-align: center;
	vertical-align: middle;
	line-height: 80px;
	font-size: 1.5em;
}
#small_top_left {
	top:0px;
	left:120px;
	background-color:red;
}
#small_top_right {
	top:120px;
	left:0px;
	background-color:green;
}
#available_dice_div {
	position:absolute;
	z-index:2;
	height:50px;
	top:0px;
	left:180px;
}
#big_bottom {
	bottom:0px;
	right:0px;
	background-color:green;
}
#small_bottom_right {
	bottom:120px;
	right:0px;
	background-color:green;
}
#small_bottom_left {
	bottom:0px;
	right:120px;
	background-color:green;
}
</style>
<script>
"use strict";
function proto_die(value) {
	this.value = value;
	this.roll = function () {
		if (settings.curve == 0) {
			return 1 + Math.floor(Math.random() * this.value);
		}
		else {
			return 1 + Math.round(Math.random() * this.value);
		}
	}
}

var hand = {
	queue : {
		2:0,
		4:0,
		6:0,
		8:0,
		10:0,
		12:0,
		20:0,
		100:0
	},
	queue_html : [], 
	pick_up : function (type) {
		this.queue[type] += 1;
		this.calc_queue_html();
		this.write_queue();
	},
	remove_me : function (type) {
		this.queue[type] -= 1;	
		this.calc_queue_html();
		this.write_queue();
	},
	empty_hand : function () {
		this.queue = {
			2:0,
			4:0,
			6:0,
			8:0,
			10:0,
			12:0,
			20:0,
			100:0
		};
		this.calc_queue_html();
		this.write_queue();
	},
	write_queue : function () {
		var temp = '';
		for (var i = 0; i < this.queue_html.length; i++) {
			temp  += this.queue_html[i];		
		};
		document.getElementById("queue_div").innerHTML = temp; 	
	},
	calc_queue_html : function () {
		this.queue_html = [];
		var count = 0;
		var queue_item = 0;
		for (var i = 0; i < settings.types_num; i++) {
			if (this.queue[settings.types[i]] != 0) {
				count = this.queue[settings.types[i]];
				queue_item = settings.types[i];
				this.queue_html.push('<div class="die_queue_div"><img class="die_queue_img" id="' + queue_item + '_queue'+ i +'" src="images/' + queue_item + '_' + queue_item +'.svg" onclick="hand.remove_me('+ i +');"><div class="count_div">x' + count + '</div></img></div>');
			}
		} 
		/*for (var i = 0; i < this.queue.length; i++) {
			if (unique .indexOf(this.queue[i]) == -1) { //unique
				unique.push(this.queue[i]);
				var queue_item = this.queue[i];
				this.queue_html.push('<div class="die_queue_div"><img class="die_queue_img" id="' + queue_item + '_queue'+ i +'" src="images/' + queue_item + '_' + queue_item +'.svg" onclick="hand.remove_me('+ i +');"><div class="count_div">x3</div></img></div>');
			}
			else { //not unique
					
			}
		}*/
		this.write_queue();
	},
}
var table = {
	result_html : [],
	pop_queue_html : function () {
	},
	/*roll_em : function () {
		this.result_html = [];
		for (var i = 0; i < dice.types_num; i++) {
			var current_type = dice.types[i]["value"];
			var result = dice["d" + dom.queue[i]["roll"]; 	
			total += result; 	
			dom.rolled_html.push('<img class="die_result" id="d' + die_value + '" src="images/' + die_value + '_' + result + '.svg"></img>');
		}		
		dom.write_result();
		dom.write_total(total);
	},	*/
}
var dice = {
	proto_dice : {
		2 : new proto_die(2),
		4 : new proto_die(4),
		6 : new proto_die(6),
		8 : new proto_die(8),
		10 : new proto_die(10),
		12 : new proto_die(12),
		20 : new proto_die(20),
		100 : new proto_die(100),
	},
	throw_to_table : function () {
	},
}
var settings = {
	curve : 0,
	types : Object.keys(dice.proto_dice),  
	types_num : 8,
	otherstuff : 0,	
}




/*
var dom = {
	queue_html : [],	
	rolled_html : [],
	total : 0,
	queue : {
		2:0,
		4:0,
		6:0,
		8:0,
		10:0,
		12:0,
		20:0,
		100:0,	
	},
	populate_queue_html : function () {
		dom.queue_html = [];
		for (var i = 0; i < dom.queue.length; i++) {
			dom.queue_html.push('<img class="die_queue" id="' + dom.queue[i] + '_queue'+ i +'" src="images/' + dom.queue[i] + '_' + dom.queue[i] +'.svg" onclick="dom.remove_me(' + dom.queue[i]  + ');"></img>');
		}
		dom.write_queue();
	},
	write_queue : function () {
		var temp = '';
		for (var i = 0; i < dom.queue_html.length; i++) {
			temp  += dom.queue_html[i];		
		};
		document.getElementById("queue_div").innerHTML = temp; 	
	},
	remove_me : function (type) {
		dom.queue[type] -= 1;
		dom.populate_queue_html();
	},
	write_result : function () {
		var temp = '';
		for (var i = 0; i < dom.rolled_html.length; i++) {
			temp  += dom.rolled_html[i];		
		};
		document.getElementById("result_div").innerHTML = temp; 	
	},
	write_total : function (total) {
		document.getElementById("big_top").innerHTML = total;	
	}
}
var dice = {
	const types = Object.keys(dom.queue);
	const types_num = dom.queue.length;
	var total = 0;
	2 : new proto_die(2),
	4 : new proto_die(4),
	6 : new proto_die(6),
	8 : new proto_die(8),
	10 : new proto_die(10),
	12 : new proto_die(12),
	20 : new proto_die(20),
	100 : new proto_die(100),
	roll_em : function () {
		dom.rolled_html = [];
		for (var i = 0; i < this.types_num; i++) {
			var current_type = this.types[i]	
			result = dice[	




			result = dice["d" + dom.queue[]["roll"](); 	
			total += result; 	
			dom.rolled_html.push('<img class="die_result" id="d' + die_value + '" src="images/' + die_value + '_' + result + '.svg"></img>');
		}		
		dom.write_result();
		dom.write_total(total);
	},
	clear_em : function () {
		dom.queue_obj = {
			2:0,
			4:0,
			6:0,
			8:0,
			10:0,
			12:0,
			20:0,
			100:0
		};
		dom.queue_html = []; 
		dom.rolled_html = []; 			
		dom.write_queue();
		dom.write_result();	
		dom.write_total(0);
	}
}
function proto_die(value) {
	this.value = value;
	this.roll = function () {
		if (settings.curve == 0) {
			return 1 + Math.floor(Math.random() * this.value);
		}
		else {
			return 1 + Math.round(Math.random() * this.value);
		}
	}
	this.add_me = function () {
		dom.queue_obj[value] += 1;
		dom.populate_queue_html();
	}
}

var layout = {
	get_main_width : function () {
		return document.getElementById('appdiv1').offsetWidth;
	},
	calcsize : function () {
		var temp = layout.get_main_width();
		//document.getElementById('available_dice_div').style.width = temp - 200 + 'px';
	},	
};
*/
</script>
</head>
<body>
<!--<body onload="layout.calcsize();" onResize="layout.calcsize();">-->
<div id="available_dice_div">
	<img class="dice_rack" src="images/2_2.svg" onclick="hand.pick_up(2);"></img>
	<img class="dice_rack" src="images/4_4.svg" onclick="hand.pick_up(4);"></img>
	<img class="dice_rack" src="images/6_6.svg" onclick="hand.pick_up(6);"></img>
	<img class="dice_rack" src="images/8_8.svg" onclick="hand.pick_up(8);"></img>
	<img class="dice_rack" src="images/10_10.svg" onclick="hand.pick_up(10);"></img>
	<img class="dice_rack" src="images/12_12.svg" onclick="hand.pick_up(12);"></img>
	<img class="dice_rack" src="images/20_20.svg" onclick="hand.pick_up(20);"></img>
	<img class="dice_rack" src="images/100.svg" onclick="hand.pick_up(100);"></img>
</div>
<div id="appdiv1">
<div id="queue_main_div"></div>
	<fieldset>
		<legend>Dice Queue</legend>	
		<div id="queue_div"></div>
	</fieldset>
	<fieldset>
		<legend>Results</legend>
		<div id="result_div"></div>
	</fieldset>
</div>
<div id="big_top" class="big_side_button"></div>
<div id="small_top_left" class="small_side_button"></div>
<div id="small_top_right" class="small_side_button"></div>
<div id="big_bottom" class="big_side_button" onclick="dice.roll_em();"></div>
<div id="small_bottom_right" class="small_side_button"></div>
<div id="small_bottom_left" class="small_side_button" onclick="dice.clear_em();"></div>
</body>
</html>
